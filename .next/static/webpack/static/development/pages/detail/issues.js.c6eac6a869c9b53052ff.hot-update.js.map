{"version":3,"file":"static/webpack/static\\development\\pages\\detail\\issues.js.c6eac6a869c9b53052ff.hot-update.js","sources":["webpack:///./lib/api.js"],"sourcesContent":["const axios=require('axios')\r\n\r\nconst isServer =typeof window==='undefined'\r\nconst github_base_url='https://api.github.com'\r\n\r\nasync function request({method='GET',url,data},req,res){\r\n  if(!url){\r\n    throw Error('url must be provied')\r\n  }\r\n  if(isServer){\r\n    console.log('in')\r\n    const githubAuth=req.session&&req.session.githubAuth||{}\r\n    const token = githubAuth&&githubAuth.access_token\r\n    let headers={}\r\n    if(token){\r\n      headers['Authorization']=`${githubAuth.token_type} ${token}`\r\n    }\r\n    return  axios({\r\n      method,\r\n      url:`${github_base_url}${url}`,\r\n      headers,\r\n      data\r\n    })\r\n  \r\n  }else{\r\n    return  axios({\r\n      method,\r\n      url:`/github${url}`,\r\n      data\r\n    })\r\n  }\r\n}\r\n\r\nmodule.exports={\r\n  request\r\n}"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAZA;AAaA;AACA;AACA;AACA;AAJA;AACA;AAbA;AAAA;AAqBA;AACA;AACA;AAHA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA2BA;AACA;AADA;;;;A","sourceRoot":""}