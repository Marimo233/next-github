{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Tabs from \"antd/lib/tabs\";\nimport _Icon from \"antd/lib/icon\";\nimport _Button from \"antd/lib/button\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { connect } from 'react-redux';\nimport Router, { withRouter } from 'next/router';\nimport api from '../lib/api';\nimport Repo from '../components/Repo';\n\nfunction Index(_ref) {\n  var userRepos = _ref.userRepos,\n      user = _ref.user,\n      router = _ref.router,\n      userStaredRepos = _ref.userStaredRepos;\n  var tabKey = router.query.key || '1';\n\n  var handleTabChange = function handleTabChange(activeKey) {\n    Router.push(\"/?key=\".concat(activeKey));\n  };\n\n  console.log(userRepos, userStaredRepos);\n\n  if (!user || !user.id) {\n    return __jsx(\"div\", {\n      className: \"jsx-550798303\" + \" \" + 'root'\n    }, __jsx(\"p\", {\n      className: \"jsx-550798303\"\n    }, \"\\u4EB2\\uFF0C\\u60A8\\u8FD8\\u6CA1\\u6709\\u767B\\u5F55\\u54E6~\"), __jsx(_Button, {\n      type: \"primary\",\n      href: \"/prepare-auth?url=\".concat(router.asPath)\n    }, \"\\u53BB\\u767B\\u5F55\"), __jsx(_JSXStyle, {\n      id: \"550798303\"\n    }, \".root.jsx-550798303{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFyaW1vXFxEZXNrdG9wXFxuZXh0LWdpdGh1YlxccGFnZXNcXGluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlCUyxBQUc0QixrQkFDVixRQUNDLFNBQ3NCLHlHQUNsQiwwRUFDVSw4RUFDQyxtR0FDSiw2RkFDckIiLCJmaWxlIjoiQzpcXFVzZXJzXFxtYXJpbW9cXERlc2t0b3BcXG5leHQtZ2l0aHViXFxwYWdlc1xcaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0J1dHRvbixJY29uLFRhYnN9IGZyb20gXCJhbnRkXCJcclxuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCdcclxuaW1wb3J0IFJvdXRlcix7d2l0aFJvdXRlcn0gZnJvbSAnbmV4dC9yb3V0ZXInXHJcblxyXG5pbXBvcnQgYXBpIGZyb20gJy4uL2xpYi9hcGknXHJcbmltcG9ydCBSZXBvIGZyb20gJy4uL2NvbXBvbmVudHMvUmVwbydcclxuZnVuY3Rpb24gSW5kZXgoe3VzZXJSZXBvcyx1c2VyLHJvdXRlcix1c2VyU3RhcmVkUmVwb3N9KXtcclxuICBjb25zdCB0YWJLZXkgPSByb3V0ZXIucXVlcnkua2V5IHx8ICcxJ1xyXG4gIGNvbnN0IGhhbmRsZVRhYkNoYW5nZSA9IGFjdGl2ZUtleSA9PiB7XHJcbiAgICBSb3V0ZXIucHVzaChgLz9rZXk9JHthY3RpdmVLZXl9YClcclxuICB9XHJcbiAgY29uc29sZS5sb2codXNlclJlcG9zLHVzZXJTdGFyZWRSZXBvcylcclxuICAgIGlmKCF1c2VyfHwhdXNlci5pZCl7XHJcbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0ncm9vdCc+XHJcbiAgICAgICAgPHA+5Lqy77yM5oKo6L+Y5rKh5pyJ55m75b2V5ZOmfjwvcD5cclxuICAgICAgICA8QnV0dG9uIHR5cGU9J3ByaW1hcnknIGhyZWY9e2AvcHJlcGFyZS1hdXRoP3VybD0ke3JvdXRlci5hc1BhdGh9YH0+5Y6755m75b2VPC9CdXR0b24+XHJcbiAgICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICB7YFxyXG4gICAgICAgIC5yb290e1xyXG4gICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICAgICAgICB0b3A6NTAlO1xyXG4gICAgICAgICAgbGVmdDo1MCU7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7XHJcbiAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBgfVxyXG4gICAgICA8L3N0eWxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgXHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0ncm9vdCc+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndXNlci1pbmZvJz5cclxuICAgICAgICAgICAgPGltZyBzcmM9e3VzZXIuYXZhdGFyX3VybH0gYWx0PVwiYXZhdGFyX3VybFwiIGNsYXNzTmFtZT1cImF2YXRhclwiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxvZ2luXCI+e3VzZXIubG9naW59PC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYW1lXCI+e3VzZXIubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJpb1wiPnt1c2VyLmJpb308L3NwYW4+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImVtYWlsXCI+XHJcbiAgICAgICAgICAgICAgPEljb24gdHlwZT1cIm1haWxcIiBzdHlsZT17eyBtYXJnaW5SaWdodDogNSB9fSAvPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9e2BtYWlsdG86JHt1c2VyLmVtYWlsfWB9PlxyXG4gICAgICAgICAgICAgICAge3VzZXIuZW1haWwgPyB1c2VyLmVtYWlsIDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9JRnJlZU92Tyd9XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1yZXBvc1wiPlxyXG4gICAgICAgICAgICA8VGFicyBhY3RpdmVLZXk9e3RhYktleX0gb25DaGFuZ2U9e2hhbmRsZVRhYkNoYW5nZX0gYW5pbWF0ZWQ9e2ZhbHNlfT5cclxuICAgICAgICAgICAgICA8VGFicy5UYWJQYW5lIHRhYj1cIuS9oOeahOS7k+W6k1wiIGtleT1cIjFcIj5cclxuICAgICAgICAgICAgICAgIHt1c2VyUmVwb3MubWFwKHJlcG8gPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8UmVwbyByZXBvPXtyZXBvfSBrZXk9e3JlcG8uaWR9IC8+XHJcbiAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICA8L1RhYnMuVGFiUGFuZT5cclxuICAgICAgICAgICAgICA8VGFicy5UYWJQYW5lIHRhYj1cIuS9oOWFs+azqOeahOS7k+W6k1wiIGtleT1cIjJcIj5cclxuICAgICAgICAgICAgICAgIHt1c2VyU3RhcmVkUmVwb3MubGVuZ3RoPjBcclxuICAgICAgICAgICAgICAgID91c2VyU3RhcmVkUmVwb3MubWFwKHJlcG8gPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8UmVwbyByZXBvPXtyZXBvfSBrZXk9e3JlcG8uaWR9IC8+XHJcbiAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgOifmmoLml6DlhbPms6jnmoTku5PlupMnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDwvVGFicy5UYWJQYW5lPlxyXG4gICAgICAgICAgICA8L1RhYnM+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgLnJvb3Qge1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgcGFkZGluZzogMjBweCAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC51c2VyLWluZm8ge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAyMDBweDtcclxuICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDQwcHg7XHJcbiAgICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5sb2dpbiB7XHJcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDgwMDtcclxuICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAubmFtZSB7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgICAgIGNvbG9yOiAjNzc3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5iaW8ge1xyXG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICMzMzM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmF2YXRhciB7XHJcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC51c2VyLXJlcG9ze1xyXG4gICAgICAgICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIH1cclxufVxyXG5cclxuSW5kZXguZ2V0SW5pdGlhbFByb3BzPWFzeW5jICh7Y3R4LHJlZHV4U3RvcmV9KT0+e1xyXG4gIGNvbnN0IHVzZXIgPXJlZHV4U3RvcmUuZ2V0U3RhdGUoKS51c2VyXHJcbiAgXHJcbiAgbGV0IHVzZXJSZXBvcz1bXSx1c2VyU3RhcmVkUmVwb3M9W10sdXNlclJlcG9zUmVzcD1udWxsLHVzZXJTdGFycmVkUmVwb3NSZXNwPW51bGxcclxuICBpZighdXNlcnx8IXVzZXIuaWQpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNMb2dpbjpmYWxzZSxcclxuICAgICAgdXNlclJlcG9zLFxyXG4gICAgICB1c2VyU3RhcmVkUmVwb3MsXHJcbiAgICB9XHJcbiAgfWVsc2V7XHJcbiAgICB0cnkge1xyXG4gICAgICB1c2VyUmVwb3NSZXNwPWF3YWl0IGFwaS5yZXF1ZXN0KHt1cmw6Jy91c2VyL3JlcG9zJ30sY3R4LnJlcSxjdHgucmVzKVxyXG4gICAgICB1c2VyU3RhcnJlZFJlcG9zUmVzcD0gYXdhaXQgYXBpLnJlcXVlc3Qoe3VybDonL3VzZXIvc3RhcnJlZCd9LGN0eC5yZXEsY3R4LnJlcylcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgfVxyXG4gICAgaWYodXNlclJlcG9zUmVzcC5kYXRhJiZ1c2VyUmVwb3NSZXNwLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIHVzZXJSZXBvcz11c2VyUmVwb3NSZXNwLmRhdGEuZGF0YXx8W11cclxuICAgIH1cclxuICAgIGlmKHVzZXJTdGFyZWRSZXBvcy5kYXRhJiZ1c2VyU3RhcmVkUmVwb3MuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgdXNlclN0YXJlZFJlcG9zPXVzZXJTdGFycmVkUmVwb3NSZXNwLmRhdGEuZGF0YXx8W11cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzTG9naW46dHJ1ZSxcclxuICAgICAgdXNlclJlcG9zLFxyXG4gICAgICB1c2VyU3RhcmVkUmVwb3MsXHJcbiAgICB9XHJcbiAgfVxyXG4gICAgXHJcbn1cclxuY29uc3QgbWFwU3RhdGVUb3Byb3BzPShzdGF0ZSk9PntcclxuICByZXR1cm4ge1xyXG4gICAgLi4uc3RhdGVcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFJvdXRlcihjb25uZWN0KG1hcFN0YXRlVG9wcm9wcykoSW5kZXgpKSAiXX0= */\\n/*@ sourceURL=C:\\\\Users\\\\marimo\\\\Desktop\\\\next-github\\\\pages\\\\index.js */\"));\n  } else {\n    return __jsx(\"div\", {\n      className: \"jsx-2976399386\" + \" \" + 'root'\n    }, __jsx(\"div\", {\n      className: \"jsx-2976399386\" + \" \" + 'user-info'\n    }, __jsx(\"img\", {\n      src: user.avatar_url,\n      alt: \"avatar_url\",\n      className: \"jsx-2976399386\" + \" \" + \"avatar\"\n    }), __jsx(\"span\", {\n      className: \"jsx-2976399386\" + \" \" + \"login\"\n    }, user.login), __jsx(\"span\", {\n      className: \"jsx-2976399386\" + \" \" + \"name\"\n    }, user.name), __jsx(\"span\", {\n      className: \"jsx-2976399386\" + \" \" + \"bio\"\n    }, user.bio), __jsx(\"p\", {\n      className: \"jsx-2976399386\" + \" \" + \"email\"\n    }, __jsx(_Icon, {\n      type: \"mail\",\n      style: {\n        marginRight: 5\n      }\n    }), __jsx(\"a\", {\n      href: \"mailto:\".concat(user.email),\n      className: \"jsx-2976399386\"\n    }, user.email ? user.email : 'https://github.com/IFreeOvO'))), __jsx(\"div\", {\n      className: \"jsx-2976399386\" + \" \" + \"user-repos\"\n    }, __jsx(_Tabs, {\n      activeKey: tabKey,\n      onChange: handleTabChange,\n      animated: false\n    }, __jsx(_Tabs.TabPane, {\n      tab: \"\\u4F60\\u7684\\u4ED3\\u5E93\",\n      key: \"1\"\n    }, userRepos.map(function (repo) {\n      return __jsx(Repo, {\n        repo: repo,\n        key: repo.id\n      });\n    })), __jsx(_Tabs.TabPane, {\n      tab: \"\\u4F60\\u5173\\u6CE8\\u7684\\u4ED3\\u5E93\",\n      key: \"2\"\n    }, userStaredRepos.length > 0 ? userStaredRepos.map(function (repo) {\n      return __jsx(Repo, {\n        repo: repo,\n        key: repo.id\n      });\n    }) : '暂无关注的仓库'))), __jsx(_JSXStyle, {\n      id: \"2976399386\"\n    }, \".root.jsx-2976399386{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:20px 0;}.user-info.jsx-2976399386{width:200px;margin-right:40px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.login.jsx-2976399386{font-weight:800;font-size:20px;margin-top:20px;}.name.jsx-2976399386{font-size:16px;color:#777;}.bio.jsx-2976399386{margin-top:20px;color:#333;}.avatar.jsx-2976399386{width:100%;border-radius:5px;}.user-repos.jsx-2976399386{position:relative;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFyaW1vXFxEZXNrdG9wXFxuZXh0LWdpdGh1YlxccGFnZXNcXGluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStEc0IsQUFHNEIsQUFJRCxBQU9JLEFBS0QsQUFJQyxBQUlMLEFBSU0sV0FIQyxDQXBCQSxHQVlQLENBTEksQUFTSixFQVFiLFFBWEEsQ0FJQSxFQUlBLENBcEJnQixDQU9FLGdCQUNsQiwyQkFiaUIsWUFNRixHQUxmLHVFQU13Qiw4RUFDeEIiLCJmaWxlIjoiQzpcXFVzZXJzXFxtYXJpbW9cXERlc2t0b3BcXG5leHQtZ2l0aHViXFxwYWdlc1xcaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0J1dHRvbixJY29uLFRhYnN9IGZyb20gXCJhbnRkXCJcclxuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCdcclxuaW1wb3J0IFJvdXRlcix7d2l0aFJvdXRlcn0gZnJvbSAnbmV4dC9yb3V0ZXInXHJcblxyXG5pbXBvcnQgYXBpIGZyb20gJy4uL2xpYi9hcGknXHJcbmltcG9ydCBSZXBvIGZyb20gJy4uL2NvbXBvbmVudHMvUmVwbydcclxuZnVuY3Rpb24gSW5kZXgoe3VzZXJSZXBvcyx1c2VyLHJvdXRlcix1c2VyU3RhcmVkUmVwb3N9KXtcclxuICBjb25zdCB0YWJLZXkgPSByb3V0ZXIucXVlcnkua2V5IHx8ICcxJ1xyXG4gIGNvbnN0IGhhbmRsZVRhYkNoYW5nZSA9IGFjdGl2ZUtleSA9PiB7XHJcbiAgICBSb3V0ZXIucHVzaChgLz9rZXk9JHthY3RpdmVLZXl9YClcclxuICB9XHJcbiAgY29uc29sZS5sb2codXNlclJlcG9zLHVzZXJTdGFyZWRSZXBvcylcclxuICAgIGlmKCF1c2VyfHwhdXNlci5pZCl7XHJcbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0ncm9vdCc+XHJcbiAgICAgICAgPHA+5Lqy77yM5oKo6L+Y5rKh5pyJ55m75b2V5ZOmfjwvcD5cclxuICAgICAgICA8QnV0dG9uIHR5cGU9J3ByaW1hcnknIGhyZWY9e2AvcHJlcGFyZS1hdXRoP3VybD0ke3JvdXRlci5hc1BhdGh9YH0+5Y6755m75b2VPC9CdXR0b24+XHJcbiAgICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICB7YFxyXG4gICAgICAgIC5yb290e1xyXG4gICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICAgICAgICB0b3A6NTAlO1xyXG4gICAgICAgICAgbGVmdDo1MCU7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7XHJcbiAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBgfVxyXG4gICAgICA8L3N0eWxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgXHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0ncm9vdCc+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndXNlci1pbmZvJz5cclxuICAgICAgICAgICAgPGltZyBzcmM9e3VzZXIuYXZhdGFyX3VybH0gYWx0PVwiYXZhdGFyX3VybFwiIGNsYXNzTmFtZT1cImF2YXRhclwiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxvZ2luXCI+e3VzZXIubG9naW59PC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYW1lXCI+e3VzZXIubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJpb1wiPnt1c2VyLmJpb308L3NwYW4+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImVtYWlsXCI+XHJcbiAgICAgICAgICAgICAgPEljb24gdHlwZT1cIm1haWxcIiBzdHlsZT17eyBtYXJnaW5SaWdodDogNSB9fSAvPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9e2BtYWlsdG86JHt1c2VyLmVtYWlsfWB9PlxyXG4gICAgICAgICAgICAgICAge3VzZXIuZW1haWwgPyB1c2VyLmVtYWlsIDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9JRnJlZU92Tyd9XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1yZXBvc1wiPlxyXG4gICAgICAgICAgICA8VGFicyBhY3RpdmVLZXk9e3RhYktleX0gb25DaGFuZ2U9e2hhbmRsZVRhYkNoYW5nZX0gYW5pbWF0ZWQ9e2ZhbHNlfT5cclxuICAgICAgICAgICAgICA8VGFicy5UYWJQYW5lIHRhYj1cIuS9oOeahOS7k+W6k1wiIGtleT1cIjFcIj5cclxuICAgICAgICAgICAgICAgIHt1c2VyUmVwb3MubWFwKHJlcG8gPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8UmVwbyByZXBvPXtyZXBvfSBrZXk9e3JlcG8uaWR9IC8+XHJcbiAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICA8L1RhYnMuVGFiUGFuZT5cclxuICAgICAgICAgICAgICA8VGFicy5UYWJQYW5lIHRhYj1cIuS9oOWFs+azqOeahOS7k+W6k1wiIGtleT1cIjJcIj5cclxuICAgICAgICAgICAgICAgIHt1c2VyU3RhcmVkUmVwb3MubGVuZ3RoPjBcclxuICAgICAgICAgICAgICAgID91c2VyU3RhcmVkUmVwb3MubWFwKHJlcG8gPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8UmVwbyByZXBvPXtyZXBvfSBrZXk9e3JlcG8uaWR9IC8+XHJcbiAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgOifmmoLml6DlhbPms6jnmoTku5PlupMnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDwvVGFicy5UYWJQYW5lPlxyXG4gICAgICAgICAgICA8L1RhYnM+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgLnJvb3Qge1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgcGFkZGluZzogMjBweCAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC51c2VyLWluZm8ge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAyMDBweDtcclxuICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDQwcHg7XHJcbiAgICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5sb2dpbiB7XHJcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDgwMDtcclxuICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAubmFtZSB7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgICAgIGNvbG9yOiAjNzc3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5iaW8ge1xyXG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICMzMzM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmF2YXRhciB7XHJcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC51c2VyLXJlcG9ze1xyXG4gICAgICAgICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIH1cclxufVxyXG5cclxuSW5kZXguZ2V0SW5pdGlhbFByb3BzPWFzeW5jICh7Y3R4LHJlZHV4U3RvcmV9KT0+e1xyXG4gIGNvbnN0IHVzZXIgPXJlZHV4U3RvcmUuZ2V0U3RhdGUoKS51c2VyXHJcbiAgXHJcbiAgbGV0IHVzZXJSZXBvcz1bXSx1c2VyU3RhcmVkUmVwb3M9W10sdXNlclJlcG9zUmVzcD1udWxsLHVzZXJTdGFycmVkUmVwb3NSZXNwPW51bGxcclxuICBpZighdXNlcnx8IXVzZXIuaWQpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNMb2dpbjpmYWxzZSxcclxuICAgICAgdXNlclJlcG9zLFxyXG4gICAgICB1c2VyU3RhcmVkUmVwb3MsXHJcbiAgICB9XHJcbiAgfWVsc2V7XHJcbiAgICB0cnkge1xyXG4gICAgICB1c2VyUmVwb3NSZXNwPWF3YWl0IGFwaS5yZXF1ZXN0KHt1cmw6Jy91c2VyL3JlcG9zJ30sY3R4LnJlcSxjdHgucmVzKVxyXG4gICAgICB1c2VyU3RhcnJlZFJlcG9zUmVzcD0gYXdhaXQgYXBpLnJlcXVlc3Qoe3VybDonL3VzZXIvc3RhcnJlZCd9LGN0eC5yZXEsY3R4LnJlcylcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgfVxyXG4gICAgaWYodXNlclJlcG9zUmVzcC5kYXRhJiZ1c2VyUmVwb3NSZXNwLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIHVzZXJSZXBvcz11c2VyUmVwb3NSZXNwLmRhdGEuZGF0YXx8W11cclxuICAgIH1cclxuICAgIGlmKHVzZXJTdGFyZWRSZXBvcy5kYXRhJiZ1c2VyU3RhcmVkUmVwb3MuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgdXNlclN0YXJlZFJlcG9zPXVzZXJTdGFycmVkUmVwb3NSZXNwLmRhdGEuZGF0YXx8W11cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzTG9naW46dHJ1ZSxcclxuICAgICAgdXNlclJlcG9zLFxyXG4gICAgICB1c2VyU3RhcmVkUmVwb3MsXHJcbiAgICB9XHJcbiAgfVxyXG4gICAgXHJcbn1cclxuY29uc3QgbWFwU3RhdGVUb3Byb3BzPShzdGF0ZSk9PntcclxuICByZXR1cm4ge1xyXG4gICAgLi4uc3RhdGVcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgd2l0aFJvdXRlcihjb25uZWN0KG1hcFN0YXRlVG9wcm9wcykoSW5kZXgpKSAiXX0= */\\n/*@ sourceURL=C:\\\\Users\\\\marimo\\\\Desktop\\\\next-github\\\\pages\\\\index.js */\"));\n  }\n}\n\nIndex.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref2) {\n    var ctx, reduxStore, user, userRepos, userStaredRepos, userReposResp, userStarredReposResp;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            ctx = _ref2.ctx, reduxStore = _ref2.reduxStore;\n            user = reduxStore.getState().user;\n            userRepos = [], userStaredRepos = [], userReposResp = null, userStarredReposResp = null;\n\n            if (!(!user || !user.id)) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              isLogin: false,\n              userRepos: userRepos,\n              userStaredRepos: userStaredRepos\n            });\n\n          case 7:\n            _context.prev = 7;\n            _context.next = 10;\n            return api.request({\n              url: '/user/repos'\n            }, ctx.req, ctx.res);\n\n          case 10:\n            userReposResp = _context.sent;\n            _context.next = 13;\n            return api.request({\n              url: '/user/starred'\n            }, ctx.req, ctx.res);\n\n          case 13:\n            userStarredReposResp = _context.sent;\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](7);\n            console.log(_context.t0);\n\n          case 19:\n            if (userReposResp.data && userReposResp.data.success) {\n              userRepos = userReposResp.data.data || [];\n            }\n\n            if (userStaredRepos.data && userStaredRepos.data.success) {\n              userStaredRepos = userStarredReposResp.data.data || [];\n            }\n\n            return _context.abrupt(\"return\", {\n              isLogin: true,\n              userRepos: userRepos,\n              userStaredRepos: userStaredRepos\n            });\n\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[7, 16]]);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar mapStateToprops = function mapStateToprops(state) {\n  return _objectSpread({}, state);\n};\n\nexport default withRouter(connect(mapStateToprops)(Index));","map":{"version":3,"sources":["C:\\Users\\marimo\\Desktop\\next-github\\pages\\index.js"],"names":["connect","Router","withRouter","api","Repo","Index","userRepos","user","router","userStaredRepos","tabKey","query","key","handleTabChange","activeKey","push","console","log","id","asPath","avatar_url","login","name","bio","marginRight","email","map","repo","length","getInitialProps","ctx","reduxStore","getState","userReposResp","userStarredReposResp","isLogin","request","url","req","res","data","success","mapStateToprops","state"],"mappings":"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","sourcesContent":["import {Button,Icon,Tabs} from \"antd\"\r\nimport {connect} from 'react-redux'\r\nimport Router,{withRouter} from 'next/router'\r\n\r\nimport api from '../lib/api'\r\nimport Repo from '../components/Repo'\r\nfunction Index({userRepos,user,router,userStaredRepos}){\r\n  const tabKey = router.query.key || '1'\r\n  const handleTabChange = activeKey => {\r\n    Router.push(`/?key=${activeKey}`)\r\n  }\r\n  console.log(userRepos,userStaredRepos)\r\n    if(!user||!user.id){\r\n      return <div className='root'>\r\n        <p>亲，您还没有登录哦~</p>\r\n        <Button type='primary' href={`/prepare-auth?url=${router.asPath}`}>去登录</Button>\r\n        <style jsx>\r\n        {`\r\n        .root{\r\n          position:absolute;\r\n          top:50%;\r\n          left:50%;\r\n          transform:translate(-50%,-50%);\r\n          display:flex;\r\n          flex-direction: column;\r\n          justify-content: center;\r\n          align-items: center;\r\n        }\r\n        `}\r\n      </style>\r\n      </div>\r\n      \r\n      }else{\r\n        return <div className='root'>\r\n          <div className='user-info'>\r\n            <img src={user.avatar_url} alt=\"avatar_url\" className=\"avatar\" />\r\n            <span className=\"login\">{user.login}</span>\r\n            <span className=\"name\">{user.name}</span>\r\n            <span className=\"bio\">{user.bio}</span>\r\n            <p className=\"email\">\r\n              <Icon type=\"mail\" style={{ marginRight: 5 }} />\r\n              <a href={`mailto:${user.email}`}>\r\n                {user.email ? user.email : 'https://github.com/IFreeOvO'}\r\n              </a>\r\n            </p>\r\n          </div>\r\n          <div className=\"user-repos\">\r\n            <Tabs activeKey={tabKey} onChange={handleTabChange} animated={false}>\r\n              <Tabs.TabPane tab=\"你的仓库\" key=\"1\">\r\n                {userRepos.map(repo => (\r\n                  <Repo repo={repo} key={repo.id} />\r\n                ))}\r\n              </Tabs.TabPane>\r\n              <Tabs.TabPane tab=\"你关注的仓库\" key=\"2\">\r\n                {userStaredRepos.length>0\r\n                ?userStaredRepos.map(repo => (\r\n                  <Repo repo={repo} key={repo.id} />\r\n                ))\r\n                :'暂无关注的仓库'\r\n              }\r\n              </Tabs.TabPane>\r\n            </Tabs>\r\n          </div>\r\n          <style jsx>{`\r\n            .root {\r\n              display: flex;\r\n              padding: 20px 0;\r\n            }\r\n            .user-info {\r\n              width: 200px;\r\n              margin-right: 40px;\r\n              flex-shrink: 0;\r\n              display: flex;\r\n              flex-direction: column;\r\n            }\r\n            .login {\r\n              font-weight: 800;\r\n              font-size: 20px;\r\n              margin-top: 20px;\r\n            }\r\n            .name {\r\n              font-size: 16px;\r\n              color: #777;\r\n            }\r\n            .bio {\r\n              margin-top: 20px;\r\n              color: #333;\r\n            }\r\n            .avatar {\r\n              width: 100%;\r\n              border-radius: 5px;\r\n            }\r\n            .user-repos{\r\n              position:relative;\r\n            }\r\n          `}</style>\r\n        </div>\r\n      }\r\n}\r\n\r\nIndex.getInitialProps=async ({ctx,reduxStore})=>{\r\n  const user =reduxStore.getState().user\r\n  \r\n  let userRepos=[],userStaredRepos=[],userReposResp=null,userStarredReposResp=null\r\n  if(!user||!user.id){\r\n    return {\r\n      isLogin:false,\r\n      userRepos,\r\n      userStaredRepos,\r\n    }\r\n  }else{\r\n    try {\r\n      userReposResp=await api.request({url:'/user/repos'},ctx.req,ctx.res)\r\n      userStarredReposResp= await api.request({url:'/user/starred'},ctx.req,ctx.res)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n    if(userReposResp.data&&userReposResp.data.success){\r\n      userRepos=userReposResp.data.data||[]\r\n    }\r\n    if(userStaredRepos.data&&userStaredRepos.data.success){\r\n      userStaredRepos=userStarredReposResp.data.data||[]\r\n    }\r\n    return {\r\n      isLogin:true,\r\n      userRepos,\r\n      userStaredRepos,\r\n    }\r\n  }\r\n    \r\n}\r\nconst mapStateToprops=(state)=>{\r\n  return {\r\n    ...state\r\n  }\r\n}\r\nexport default withRouter(connect(mapStateToprops)(Index)) "]},"metadata":{},"sourceType":"module"}